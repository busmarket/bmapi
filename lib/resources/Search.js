'use strict';

const ErrorMessages = require('../error_messages/ErrorMessages');
const BmApiError = ErrorMessages.BmApiError;

function Search(client) {
    this.get = client.get;
}

const URL = '/search';

Search.prototype = {

    /**
     * ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–æ–≤–∞—Ä–∞–º.
     * üîó https://developer.bm.parts/api/v2/search_products.html#get-search-products-history
     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default___|||__description_
     * ==============================================================================
     * ------------------------------------------------------------------------------
     * ==============================================================================
     *
     */
    history: function () {
        return this.get(`${URL}/products/history`);
    },

    /**
     * ‚úÖ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞.
     * üîó https://developer.bm.parts/api/v2/search_products.html#get-search-products-suggest
     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default___|||__description_
     * ==============================================================================
     * | q                   | true         |              | –ü–æ–∏—Å–∫–æ–≤–∞—è —Ñ—Ä–∞–∑–∞. –ù–∞–ø—Ä–∏–º–µ—Ä &q=115 906 –∏–ª–∏ &q=–∞–º–æ—Ä—Ç–∏–∑–∞—Ç–æ—Ä –ø–µ—Ä–µ–¥–Ω–∏–π
     * ------------------------------------------------------------------------------
     * | products_as         | false        |   obj        | –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–æ–≤–∞—Ä–æ–≤. –í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã: obj, arr
     * ------------------------------------------------------------------------------
     * ==============================================================================
     *
     */
    suggestProducts: function (options) {
        const statusError = BmApiError({
            inputOptions: options,
            requireParameters: ['q'],
            url: {
                base: 'search_products',
                hash: 'get-search-products-suggest'
            }
        });
        if (!statusError)
            return this.get(`${URL}/products/suggest`, {products_as: 'obj', ...options});
    },

    /**
     * ‚úÖ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞.
     * üîó https://developer.bm.parts/api/v2/search_products.html#get-search-suggests
     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default___|||__description_
     * ==============================================================================
     * | q                   | true         |              | –ü–æ–∏—Å–∫–æ–≤–∞—è —Ñ—Ä–∞–∑–∞. –ù–∞–ø—Ä–∏–º–µ—Ä &q=115 906 –∏–ª–∏ &q=–∞–º–æ—Ä—Ç–∏–∑–∞—Ç–æ—Ä –ø–µ—Ä–µ–¥–Ω–∏–π
     * ------------------------------------------------------------------------------
     * | products_as         | false        |   obj        | –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–æ–≤–∞—Ä–æ–≤. –í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã: obj, arr
     * ------------------------------------------------------------------------------
     * ==============================================================================
     *
     * –í –æ—Ç–≤–µ—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ JSON –∫–ª—é—á type –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è vehicle –∏–ª–∏ products.
     */
    searchSuggests: function (options) {
        const statusError = BmApiError({
            inputOptions: options,
            requireParameters: ['q'],
            url: {
                base: 'search_products',
                hash: 'get-search-suggests'
            }
        });
        if (!statusError)
            return this.get(`${URL}/suggests`, {products_as: 'obj', ...options});
    },

    /***
     * –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É
     * https://developer.bm.parts/api/v2/search_products.html#get-search-products
     *
     * * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default___|||__description_
     * ==============================================================================
     * |   q                 |   false      |              | –ü–æ–∏—Å–∫–æ–≤–∞—è —Ñ—Ä–∞–∑–∞. –ù–∞–ø—Ä–∏–º–µ—Ä &q=115 906 –∏–ª–∏ &q=–∞–º–æ—Ä—Ç–∏–∑–∞—Ç–æ—Ä –ø–µ—Ä–µ–¥–Ω–∏–π
     * -----------------------------------------------------------------------------------------------------------------
     * |   brands            |   false      |              | –£–∫–∞–∑–∞–Ω–∏–µ –ø–æ –∫–∞–∫–∏–º –±—Ä–µ–Ω–¥–∞–º –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é: &brands=SOLGY&brands=SACHS
     * -----------------------------------------------------------------------------------------------------------------
     * |   nodes             |   false      |              | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–±–æ—Ä–æ—á–Ω–æ–º—É —É–∑–ª—É: &nodes=–õ–µ–≥–∫–æ–≤—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏/–ü–æ–¥–≤–µ—Å–∫–∞.
     * -----------------------------------------------------------------------------------------------------------------
     * |   new_arrival       |   false      |              | –§–∏–ª—å—Ç—Ä –ø–æ –Ω–æ–≤–æ–º—É –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å ID –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è.
     * -----------------------------------------------------------------------------------------------------------------
     * |   advertisement     |   false      |              | –§–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–∫–ª–∞–º–Ω—ã–º –∞–∫—Ü–∏—è–º, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å ID —Ä–µ–∫–ª–∞–º–Ω–æ–π –∞–∫—Ü–∏–∏
     * -----------------------------------------------------------------------------------------------------------------
     * |   cars              |   false      |              | –§–∏–ª—å—Ç—Ä –ø–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º, –Ω–∞–ø—Ä–∏–º–µ—Ä &cars=BMW&cars=MERCEDES-BENZ>SPRINTER 2-t.
     * -----------------------------------------------------------------------------------------------------------------
     * |   new_product       |   false      |              |  –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã, –ø—Ä–∏–º–∞–µ—Ç 1 –∏–ª–∏ 0.
     * |                     |              |              |  –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã.
     * -----------------------------------------------------------------------------------------------------------------
     * |   promo             |   false      |              |  –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ü–∏–æ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã, –ø—Ä–∏–º–∞–µ—Ç 1 –∏–ª–∏ 0.
     * |                     |              |              |  –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã.
     * -----------------------------------------------------------------------------------------------------------------
     * |   warehouses        |   false      |              |  ID —Å–∫–ª–∞–¥–æ–≤ –ø–æ –∫–æ—Ç–æ—Ä—ã–º –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ—Å—Ç–∞—Ç–∫–∏:
     * |                     |              |              |  &warehouses=816D000C2999A7E611E6EC6B4A1915AF&warehouses=ACF9000C2947F7AE11E28A2B02C4AD32.
     * |                     |              |              |  –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫–ª–∞–¥–∞.
     * -----------------------------------------------------------------------------------------------------------------
     * |   currency          |   false      |              |  –í–∞–ª—é—Ç–∞ –≤ –∫–æ—Ç–æ—Ä–æ–π –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ü–µ–Ω—ã –∏–∑ —Ç–æ–≤–∞—Ä–æ–≤.
     * |                     |              |              |  –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –≤–∞–ª—é—Ç–∞ –¥–æ–≥–æ–≤–æ—Ä–∞.
     * -----------------------------------------------------------------------------------------------------------------
     * ==============================================================================
     *
     * @param options
     * @returns {*}
     */
    products: function (options) {
        return this.get(`${URL}/products`, {...options})
    },

};

module.exports = Search;
