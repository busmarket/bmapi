'use strict';

const ErrorMessages = require('../error_messages/ErrorMessages');
const BmApiError = ErrorMessages.BmApiError;


const URL = '/documents'

function Documents(client) {
    this.get = client.get;
}

Documents.prototype = {

    /**
     * ‚úÖ –ì—Ä—É–ø–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
     * üîó https://developer.bm.parts/api/v2/documents.html#get-documents-filters-groups
     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default___|||__description_
     * ==============================================================================
     * ------------------------------------------------------------------------------
     * ==============================================================================
     *
     */
    filterGroups: function () {
        return this.get(`${URL}/filters/groups`);
    },


    /**
     * ‚úÖ –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
     * üîó https://developer.bm.parts/api/v2/documents.html#get-documents-filters-types
     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default___|||__description_
     * ==============================================================================
     * ------------------------------------------------------------------------------
     * ==============================================================================
     *
     */
    filterTypes: function () {
        return this.get(`${URL}/filters/types`);
    },


    /**
     * ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä –¥–∞—Ç.
     * üîó https://developer.bm.parts/api/v2/documents.html#get-documents-filters-dates
     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default___|||__description_
     * ==============================================================================
     * ------------------------------------------------------------------------------
     * ==============================================================================
     *
     */
    filterDates: function () {
        return this.get(`${URL}/filters/dates`);
    },


    /**
     * ‚úÖ –ñ—É—Ä–Ω–∞–ª –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –¥–∞—Ç–∞–º.
     * üîó https://developer.bm.parts/api/v2/documents.html#get-documents-grouped
     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default      |||__description_
     * ==============================================================================
     * | direction           | false        | desc            |  –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏. –ú–æ–∂–µ—Ç –±—ã—Ç—å asc –∏–ª–∏ desc
     * ------------------------------------------------------------------------------
     * | period              | false        | month           |  –ü–µ—Ä–∏–æ–¥ –≤—ã–±–æ—Ä–∫–∏
     * ------------------------------------------------------------------------------
     * | type                | false        | '–≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã' |  –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –¥–æ–∫—É–º–µ–Ω—Ç–∞ (code)
     * ------------------------------------------------------------------------------
     * | q                   | false        |                 |  –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –¥–æ–∫—É–º–µ–Ω—Ç–∞
     * ------------------------------------------------------------------------------
     * ==============================================================================
     *
     * –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ —Ç–∏–ø—É –∏ –ø–æ –Ω–æ–º–µ—Ä—É. –î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ –¢–¢–ù —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–∞–∫–∂–µ –ø–æ –Ω–æ–º–µ—Ä—É –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞.
     *
     */
    filterGrouped: function (options = {}) {
        return this.get(`/documents/grouped`, options);
    },


    /***
     * ‚úÖ –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
     * üîó https://developer.bm.parts/api/v2/documents.html#get-documents-list
     *
     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default      |||__description_
     * ==============================================================================
     * | direction           | false        | desc            |  –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏. –ú–æ–∂–µ—Ç –±—ã—Ç—å asc –∏–ª–∏ desc
     * ------------------------------------------------------------------------------
     * | period              | false        | month           |  –ü–µ—Ä–∏–æ–¥ –≤—ã–±–æ—Ä–∫–∏
     * ------------------------------------------------------------------------------
     * | type                | false        | '–≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã' |  –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –¥–æ–∫—É–º–µ–Ω—Ç–∞
     * ------------------------------------------------------------------------------
     * | q                   | false        |                 |  –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –¥–æ–∫—É–º–µ–Ω—Ç–∞
     * ------------------------------------------------------------------------------
     * | page                | false        |                 |  –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–¥–∞—á–∏
     * ------------------------------------------------------------------------------
     * | per_page            | false        |                 |  –ö–æ–ª-–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –≤—ã–¥–∞—á–µ
     * ------------------------------------------------------------------------------
     * ==============================================================================
     *
     */
    listDocuments: function (options = {}) {
        return this.get(`/documents/list`, options);
    },


    /***
     * ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–∫–ª–∞–º–∞—Ü–∏–∏
     * üîó https://developer.bm.parts/api/v2/documents.html#get-documents-reclamation-string-act-uuid
     *
     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default      |||__description_
     * ==============================================================================
     * | act_uuid            | true         |                 |  ID –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Ä–µ–∫–ª–∞–º–∞—Ü–∏–∏
     * ------------------------------------------------------------------------------
     * ==============================================================================
     *
     */
    reclamationStatus: function (options = {}) {
        const statusError = BmApiError({
            inputOptions: options,
            requireParameters: ['act_uuid'],
            url: {
                base: URL,
                hash: 'get-trainings-list'
            }
        });
        if (!statusError)
            return this.get(`${URL}/reclamation/${options.act_uuid}`);
    },


    /***
     * ‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
     * üîó https://developer.bm.parts/api/v2/documents.html#get-documents-download-string-type-string-uuid-string-file-type
     *
     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default      |||__description_
     * ==============================================================================
     * | type                | true         |                 |  –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞
     * ------------------------------------------------------------------------------
     * | uuid                | true         |                 |  ID –¥–æ–∫—É–º–µ–Ω—Ç–∞
     * ------------------------------------------------------------------------------
     * | file_type           | true         |                 |  –¢–∏–ø —Ñ–∞–π–ª–∞. –í–æ–∑–º–æ–∂–Ω—ã –≤–∞—Ä–∏–∞–Ω—Ç—ã: pdf, xlsx, csv.
     * ------------------------------------------------------------------------------
     * ==============================================================================
     *
     *  –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –Ω–µ –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã–µ –∫–∞–∫ pdf –∏–ª–∏ xlsx.
     *
     */
    downloadDocument: function (options = {}) {
        const statusError = BmApiError({
            inputOptions: options,
            requireParameters: ['type', 'uuid', 'file_type'],
            url: {
                base: URL,
                hash: 'get-documents-download-string-type-string-uuid-string-file-type'
            }
        });
        if (!statusError)
            return this.get(`${URL}/download/${options.type}/${options.uuid}/${options.file_type}`);
    },


    /***
     * ‚úÖ –ü–æ–ª—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ —Å—Å—ã–ª–∫–µ
     * üîó https://developer.bm.parts/api/v2/documents.html#get-documents-string-type-string-uuid

     * * Query Parameters (options = {}):
     * ==============================================================================
     * |_____KEY____________|||_isRequired_|||__default      |||__description_
     * ==============================================================================
     * | type                | true         |                 |  –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ (code)
     * ------------------------------------------------------------------------------
     * | uuid                | true         |                 |  ID –¥–æ–∫—É–º–µ–Ω—Ç–∞
     * ------------------------------------------------------------------------------
     * ==============================================================================
     */
    getDocument: function (options = {}) {
        const statusError = BmApiError({
            inputOptions: options,
            requireParameters: ['type', 'uuid'],
            url: {
                base: URL,
                hash: 'get-documents-string-type-string-uuid'
            }
        });
        if (!statusError)
            return this.get(`${URL}/${options.type}${options.uuid}/`);
    }
};

module.exports = Documents;
